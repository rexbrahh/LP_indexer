---
title: "api/http/types.go"
---

This page is an **annotated source reference**. Code blocks are imported from the repository at build time.

## What this file is

`api/http/types.go` is a small **re-export shim** inside the `main` package.

It aliases the shared API types and helpers from `api/http/types` into the `main` package so other files in `api/http/` can refer to:

- `Candle`, `PoolResponse`, `ErrorResponse`, …
- `ValidateTimeframe`, `SupportedTimeframes`, …

without importing `github.com/rexbrahh/lp-indexer/api/http/types` directly.

## Why this file exists

The repo keeps HTTP payload shapes in a dedicated package (`api/http/types`) so they can be shared across servers, clients, and tests.

This file optionally improves ergonomics inside the `main` package:

- handlers spread across multiple files can use short names
- the `main` package remains decoupled from the concrete import path in most code
- it’s explicit which types are part of the public HTTP contract

## Full source

```go title="api/http/types.go" file=<rootDir>/api/http/types.go showLineNumbers
```

## Walkthrough (by declaration)

### package main

```go title="package main" file=<rootDir>/api/http/types.go#L1-L1 showLineNumbers
```

**What:** Declares `main`, the executable package of the HTTP API server.

**How:** This file contributes type aliases and variables to the `main` package namespace.

**Why:** Keeping this as `package main` means other `api/http/*.go` files can use these aliases without additional imports.

### imports

```go title="imports" file=<rootDir>/api/http/types.go#L3-L3 showLineNumbers
```

**What:** Imports the shared API types package.

**How:** The import is aliased as `apitypes` to avoid confusion with the local `types.go` filename and to make it clear which names come from the shared package.

**Why:** Keeping response shapes in `api/http/types` makes them reusable and helps separate “HTTP contract” from “server wiring”.

### type (Candle, CandlesResponse, ErrorResponse, HealthResponse, PoolResponse)

**Symbols:** Candle, CandlesResponse, ErrorResponse, HealthResponse, PoolResponse

```go title="type (Candle, CandlesResponse, ErrorResponse, HealthResponse, PoolResponse)" file=<rootDir>/api/http/types.go#L5-L16 showLineNumbers
```

**What:** Type aliases that re-export the shared HTTP response/request shapes into `main`.

**How:** Each alias uses the `=` form, e.g. `type Candle = apitypes.Candle`, which means:

- no new type is created
- `Candle` and `apitypes.Candle` are identical to the compiler (no conversions required)
- JSON tags and field names remain the single source of truth in the shared package

**Why:** This reduces boilerplate inside the server package while still enforcing a single canonical definition of the HTTP payload contract.

### var (ErrNotFound, SupportedTimeframes, ValidateTimeframe)

**Symbols:** ErrNotFound, SupportedTimeframes, ValidateTimeframe

```go title="var (ErrNotFound, SupportedTimeframes, ValidateTimeframe)" file=<rootDir>/api/http/types.go#L18-L25 showLineNumbers
```

**What:** Re-exports the shared error and helper functions into `main`.

**How:**

- `ErrNotFound` points at `apitypes.ErrNotFound`.
- `SupportedTimeframes` and `ValidateTimeframe` are variables that reference the corresponding functions in `apitypes`.

This enables `main`-package code to call `ValidateTimeframe(tf)` without importing `apitypes`.

**Why:** Keeping validation and accepted value lists in a shared package prevents endpoint implementations from drifting (different validators, different accepted timeframes).
